{"ast":null,"code":"var _jsxFileName = \"/home/user/CodeAlpha/codealpha_ECommerce-main/src/pages/PlaceOrder.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport axios from 'axios';\nimport { useAuth } from '../context/AuthContext';\nimport '../styles/PlaceOrder.css';\nimport { useNavigate } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction PlaceOrder() {\n  _s();\n  const {\n    user\n  } = useAuth();\n  const [cartItems, setCartItems] = useState([]);\n  const [address, setAddress] = useState(\"\");\n  useEffect(() => {\n    const fetchCart = async () => {\n      const res = await axios.get(`http://localhost:3700/users/${user._id}/cart`);\n      setCartItems(res.data);\n    };\n    if (user) fetchCart();\n  }, [user]);\n  const navigate = useNavigate();\n  const handleSubmit = async () => {\n    const orderData = {\n      email: user.email,\n      username: user.username,\n      mobile: user.mobile,\n      items: cartItems.map(item => ({\n        item: item.productId.itemname,\n        company: item.productId.company,\n        category: item.productId.category,\n        price: item.productId.price,\n        quantity: item.quantity\n      })),\n      address\n    };\n    try {\n      const res = await axios.post('http://localhost:3700/orders', orderData);\n      alert(\"Order placed successfully!\");\n      navigate('/orders');\n    } catch (err) {\n      console.error(\"Error placing order\", err);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"order-page\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Place Your Order\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n        children: \"Name:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 10\n      }, this), \" \", user.username]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n        children: \"Email:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 10\n      }, this), \" \", user.email]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n        children: \"Mobile:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 10\n      }, this), \" \", user.mobile]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n      children: \"Items:\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n      children: cartItems.map(item => /*#__PURE__*/_jsxDEV(\"li\", {\n        children: [item.productId.itemname, \" | Company: \", item.productId.company, \" | Category: \", item.productId.category, \" | \\u20B9\", item.productId.price, \" \\xD7 \", item.quantity]\n      }, item.productId._id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n      children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n        children: \"Address:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 34\n      }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n        rows: \"4\",\n        value: address,\n        onChange: e => setAddress(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 15\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: handleSubmit,\n      children: \"Submit Order\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 47,\n    columnNumber: 5\n  }, this);\n}\n_s(PlaceOrder, \"Qls35+P08Y+cHuhH6W3xfEjh4po=\", false, function () {\n  return [useAuth, useNavigate];\n});\n_c = PlaceOrder;\nexport default PlaceOrder;\nvar _c;\n$RefreshReg$(_c, \"PlaceOrder\");","map":{"version":3,"names":["React","useEffect","useState","axios","useAuth","useNavigate","jsxDEV","_jsxDEV","PlaceOrder","_s","user","cartItems","setCartItems","address","setAddress","fetchCart","res","get","_id","data","navigate","handleSubmit","orderData","email","username","mobile","items","map","item","productId","itemname","company","category","price","quantity","post","alert","err","console","error","className","children","fileName","_jsxFileName","lineNumber","columnNumber","rows","value","onChange","e","target","onClick","_c","$RefreshReg$"],"sources":["/home/user/CodeAlpha/codealpha_ECommerce-main/src/pages/PlaceOrder.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport axios from 'axios';\nimport { useAuth } from '../context/AuthContext';\nimport '../styles/PlaceOrder.css';\nimport { useNavigate } from 'react-router-dom';\n\nfunction PlaceOrder() {\n  const { user } = useAuth();\n  const [cartItems, setCartItems] = useState([]);\n  const [address, setAddress] = useState(\"\");\n\n  useEffect(() => {\n    \n    const fetchCart = async () => {\n      const res = await axios.get(`http://localhost:3700/users/${user._id}/cart`);\n      setCartItems(res.data);\n    };\n    if (user) fetchCart();\n  }, [user]);\n\n    const navigate=useNavigate();\n  const handleSubmit = async () => {\n    const orderData = {\n      email: user.email,\n      username: user.username,\n      mobile: user.mobile,\n      items: cartItems.map(item => ({\n        item: item.productId.itemname,\n        company: item.productId.company,\n        category: item.productId.category,\n        price: item.productId.price,\n        quantity: item.quantity\n      })),\n      address\n    };\n\n    try {\n      const res = await axios.post('http://localhost:3700/orders', orderData);\n      alert(\"Order placed successfully!\");\n      navigate('/orders')\n    } catch (err) {\n      console.error(\"Error placing order\", err);\n    }\n  };\n\n  return (\n    <div className=\"order-page\">\n      <h2>Place Your Order</h2>\n      <p><strong>Name:</strong> {user.username}</p>\n      <p><strong>Email:</strong> {user.email}</p>\n      <p><strong>Mobile:</strong> {user.mobile}</p>\n\n      <h3>Items:</h3>\n      <ul>\n        {cartItems.map(item => (\n          <li key={item.productId._id}>\n            {item.productId.itemname} | Company: {item.productId.company} | Category: {item.productId.category} | ₹{item.productId.price} × {item.quantity}\n          </li>\n        ))}\n      </ul>\n\n      <label>\n        <strong>Address:</strong><br />\n        <textarea rows=\"4\" value={address} onChange={e => setAddress(e.target.value)} />\n      </label><br />\n\n      <button onClick={handleSubmit}>Submit Order</button>\n    </div>\n  );\n}\n\nexport default PlaceOrder;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
{"ast":null,"code":"var _jsxFileName = \"/home/user/CodeAlpha/codealpha_ECommerce-main/src/pages/Orders.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport axios from 'axios';\nimport { useAuth } from '../context/AuthContext';\nimport '../styles/orders.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Orders() {\n  _s();\n  const {\n    user\n  } = useAuth();\n  const [orders, setOrders] = useState([]);\n  const [filters, setFilters] = useState({\n    status: '',\n    itemName: '',\n    date: ''\n  });\n  const filteredOrders = orders.filter(order => {\n    const matchesStatus = filters.status ? order.status === filters.status : true;\n    const matchesItem = filters.itemName ? order.items.some(item => item.item.toLowerCase().includes(filters.itemName.toLowerCase())) : true;\n    const matchesDate = filters.date ? new Date(order.date).toDateString() === new Date(filters.date).toDateString() : true;\n    return matchesStatus && matchesItem && matchesDate;\n  });\n  useEffect(() => {\n    const fetchOrders = async () => {\n      try {\n        const res = await axios.get(`http://localhost:3700/orders/user/email/${user.email}`);\n        setOrders(res.data);\n      } catch (err) {\n        console.error('Error fetching orders:', err);\n      }\n    };\n    if (user) fetchOrders();\n  }, [user]);\n  const handleCancel = async orderId => {\n    try {\n      await axios.put(`http://localhost:3700/orders/${orderId}/cancel`);\n      setOrders(prev => prev.map(order => order._id === orderId ? {\n        ...order,\n        status: 'Cancelled'\n      } : order));\n    } catch (err) {\n      console.error('Error cancelling order:', err);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"orders-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"filters\",\n      children: [/*#__PURE__*/_jsxDEV(\"select\", {\n        value: filters.status,\n        onChange: e => setFilters({\n          ...filters,\n          status: e.target.value\n        }),\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"\",\n          children: \"All Statuses\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 5\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"Pending\",\n          children: \"Pending\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 5\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"Confirmed\",\n          children: \"Confirmed\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 5\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"Cancelled\",\n          children: \"Cancelled\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 5\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 3\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        placeholder: \"Search by Item Name\",\n        value: filters.itemName,\n        onChange: e => setFilters({\n          ...filters,\n          itemName: e.target.value\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 3\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"date\",\n        value: filters.date,\n        onChange: e => setFilters({\n          ...filters,\n          date: e.target.value\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 3\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Your Orders\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 7\n    }, this), orders.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"No orders found.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 9\n    }, this) : filteredOrders.map((order, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"order-card\",\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Order Date:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 16\n        }, this), \" \", order.date]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Status:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 16\n        }, this), \" \", order.status]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Address:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 16\n        }, this), \" \", order.address]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n        children: \"Items:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n        children: order.items.map((item, idx) => /*#__PURE__*/_jsxDEV(\"li\", {\n          children: [item.item, \" | Company: \", item.company, \" | Category: \", item.category, \" | \\u20B9\", item.price, \" \\xD7 \", item.quantity]\n        }, idx, true, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 17\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 13\n      }, this), order.status === 'Pending' && /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"cancel-btn\",\n        onClick: () => handleCancel(order._id),\n        children: \"Cancel Order\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 15\n      }, this)]\n    }, index, true, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 11\n    }, this))]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 57,\n    columnNumber: 5\n  }, this);\n}\n_s(Orders, \"et7WWQqAQnAIFhNNOBjCRItdEfE=\", false, function () {\n  return [useAuth];\n});\n_c = Orders;\nexport default Orders;\nvar _c;\n$RefreshReg$(_c, \"Orders\");","map":{"version":3,"names":["React","useEffect","useState","axios","useAuth","jsxDEV","_jsxDEV","Orders","_s","user","orders","setOrders","filters","setFilters","status","itemName","date","filteredOrders","filter","order","matchesStatus","matchesItem","items","some","item","toLowerCase","includes","matchesDate","Date","toDateString","fetchOrders","res","get","email","data","err","console","error","handleCancel","orderId","put","prev","map","_id","className","children","value","onChange","e","target","fileName","_jsxFileName","lineNumber","columnNumber","type","placeholder","length","index","address","idx","company","category","price","quantity","onClick","_c","$RefreshReg$"],"sources":["/home/user/CodeAlpha/codealpha_ECommerce-main/src/pages/Orders.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport axios from 'axios';\n\nimport { useAuth } from '../context/AuthContext';\n\nimport '../styles/orders.css';\n\n\nfunction Orders() {\n \n  const { user } = useAuth();\n  const [orders, setOrders] = useState([]);\n\n  const [filters, setFilters] = useState({\n    status: '',\n    itemName: '',\n    date: '',\n  });\n\n  const filteredOrders = orders.filter(order => {\n    const matchesStatus = filters.status ? order.status === filters.status : true;\n    const matchesItem = filters.itemName\n      ? order.items.some(item => item.item.toLowerCase().includes(filters.itemName.toLowerCase()))\n      : true;\n    const matchesDate = filters.date\n      ? new Date(order.date).toDateString() === new Date(filters.date).toDateString()\n      : true;\n  \n    return matchesStatus && matchesItem && matchesDate;\n  });\n  \n  \n  useEffect(() => {\n    const fetchOrders = async () => {\n      try {\n        const res = await axios.get(`http://localhost:3700/orders/user/email/${user.email}`);\n        setOrders(res.data);\n      } catch (err) {\n        console.error('Error fetching orders:', err);\n      }\n    };\n\n    if (user) fetchOrders();\n  }, [user]);\n\n  const handleCancel = async (orderId) => {\n    try {\n      await axios.put(`http://localhost:3700/orders/${orderId}/cancel`);\n      setOrders(prev => prev.map(order => order._id === orderId ? { ...order, status: 'Cancelled' } : order));\n    } catch (err) {\n      console.error('Error cancelling order:', err);\n    }\n  };\n\n  return (\n    \n    <div className=\"orders-container\">\n      <div className=\"filters\">\n  <select\n    value={filters.status}\n    onChange={(e) => setFilters({ ...filters, status: e.target.value })}\n  >\n    <option value=\"\">All Statuses</option>\n    <option value=\"Pending\">Pending</option>\n    <option value=\"Confirmed\">Confirmed</option>\n    <option value=\"Cancelled\">Cancelled</option>\n  </select>\n\n  <input\n    type=\"text\"\n    placeholder=\"Search by Item Name\"\n    value={filters.itemName}\n    onChange={(e) => setFilters({ ...filters, itemName: e.target.value })}\n  />\n\n  <input\n    type=\"date\"\n    value={filters.date}\n    onChange={(e) => setFilters({ ...filters, date: e.target.value })}\n  />\n</div>\n\n      <h2>Your Orders</h2>\n      {orders.length === 0 ? (\n        <p>No orders found.</p>\n      ) : (\n        filteredOrders.map((order, index) => (\n          <div key={index} className=\"order-card\">\n            <p><strong>Order Date:</strong> {order.date}</p>\n            <p><strong>Status:</strong> {order.status}</p>\n            <p><strong>Address:</strong> {order.address}</p>\n            <h4>Items:</h4>\n            <ul>\n              {order.items.map((item, idx) => (\n                <li key={idx}>\n                  {item.item} | Company: {item.company} | Category: {item.category} | ₹{item.price} × {item.quantity}\n                </li>\n              ))}\n            </ul>\n            {order.status === 'Pending' && (\n              <button className=\"cancel-btn\" onClick={() => handleCancel(order._id)}>\n                Cancel Order\n              </button>\n            )}\n          </div>\n        ))\n      )}\n    </div>\n  );\n}\n\n\nexport default Orders;\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}